<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks to complete this issue</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
    <link rel="stylesheet" href="/static/assets/css/styles.css"> </head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

	<body>
		<div ng-app="tenacityApp" ng-controller="tenacityCtrl">
			<header class="navbar bg-primary">
  <section class="navbar-section">
	<a href="..." class="navbar-brand mr-2"><span class="text-light">Tenacity</span></a>
  </section>
  <section class="navbar-section">
	<a href="index.html" class="btn btn-link text-light"><span class="text-light">My Account</span></a>
	<div class="input-group input-inline">
	  <input type="text" placeholder="Search" class="form-input"/>
	  <button class="btn input-group-btn btn-success">Search</button>
	</div>
  </section>
</header>


<section class="sl-body">
  <div class="container grid-lg">
	<div class="panel bg-gray">
	  <div class="panel-header">
		<div class="gjs-row">
		  <div class="gjs-cell">
		  </div>
		  <div class="gjs-cell">
			  <div class="cake-sprite"><span style="margin-top: {{ 100- percentage }}%; height:{{ percentage }}%" class="cake-sprite-rating"></span></div>
		  </div>
		  <div class="gjs-cell">
		  </div>
		</div>
		<ul class="tab tab-block">
		  <li class="tab-item">
		  </li>
		  <li class="tab-item active">
		  </li>
		</ul>
		<div class="panel-title h6">
		  <h3 id="ii9yhx1">Tasks for: 
		  </h3>
		</div>
	  </div>
	  <div class="panel-body">

		<div ng-repeat="t in issue | orderBy : 'id'"  class="form-group">
		  <div class="input-group">
			<label class="form-checkbox"><input ng-click="myFunction()" type="checkbox" ng-model="tenacityTask"/><i class="form-icon">
			  </i></label>
			  <input type="text" value=" {{t.text}}" class="form-input"/>
		  </div>
		</div>
	  </div>
	  <div class="panel-footer centered">
		<button class="btn btn-primary input-group-btn btn-lg">Complete tasks and resolve issue</button>
	  </div>
	</div>
  </div>
</section>
<footer class="footer">
  <p class="text-center">Made in 48 Hours   |   Powered by HackYG
  </p>
</footer>
		</div>
		<script>
var app = angular.module('tenacityApp', []);
app.controller('tenacityCtrl', function($scope, $http) {
    $http.get("/task?issue_id=1")
    .then(function(response) {
        $scope.issue = response.data.issue_id;
    });

    $scope.myFunction = function() {
       $scope.percentage  = document.querySelectorAll('input[type="checkbox"]:checked').length/document.querySelectorAll('input[type="checkbox"]').length * 100;


    }
});
</script>
</body>

</html>
